<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI 수정 테스트</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success {
            color: green;
            font-weight: bold;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        .warning {
            color: orange;
            font-weight: bold;
        }
        pre {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>UI 수정 테스트</h1>

    <div class="test-section">
        <h2>1. Master Volume Control</h2>
        <div id="master_test"></div>
    </div>

    <div class="test-section">
        <h2>2. Pitch Label</h2>
        <div id="pitch_test"></div>
    </div>

    <div class="test-section">
        <h2>3. Console Errors</h3>
        <div id="console_test"></div>
    </div>

    <script>
        function testMasterVolume() {
            const master = document.getElementById('master');
            const masterValue = document.getElementById('master_value');
            const testDiv = document.getElementById('master_test');

            if (master && masterValue) {
                testDiv.innerHTML = `
                    <p class="success">✅ Master volume control found!</p>
                    <p>Master element ID: ${master.id}</p>
                    <p>Master element type: ${master.type}</p>
                    <p>Master element value: ${master.value}</p>
                    <p>MasterValue element ID: ${masterValue.id}</p>
                    <p>MasterValue element value: ${masterValue.value}</p>
                `;
            } else {
                testDiv.innerHTML = `
                    <p class="error">❌ Master volume control not found!</p>
                    <p>Master element: ${master}</p>
                    <p>MasterValue element: ${masterValue}</p>
                `;
            }
        }

        function testPitchLabel() {
            const pitchLabel = document.querySelector('label[translation="voice.pitch"]');
            const testDiv = document.getElementById('pitch_test');

            if (pitchLabel) {
                testDiv.innerHTML = `
                    <p class="success">✅ Pitch label found!</p>
                    <p>Label translation attr: ${pitchLabel.getAttribute('translation')}</p>
                    <p>Label textContent: "${pitchLabel.textContent}"</p>
                    <p>Label span count: ${pitchLabel.querySelectorAll('span').length}</p>
                `;
            } else {
                testDiv.innerHTML = `
                    <p class="error">❌ Pitch label not found!</p>
                `;
            }
        }

        function testConsoleErrors() {
            const testDiv = document.getElementById('console_test');
            const errors = [];

            // Check for console errors
            const originalError = console.error;
            console.error = function(...args) {
                errors.push(args.join(' '));
                originalError.apply(console, args);
            };

            // Test master element
            const master = document.getElementById('master');
            if (!master) {
                console.error('Master element not found!');
            }

            // Test pitch label
            const pitchLabel = document.querySelector('label[translation="voice.pitch"]');
            if (!pitchLabel) {
                console.error('Pitch label not found!');
            } else if (!pitchLabel.children) {
                console.error('Pitch label children not accessible!');
            }

            // Restore console.error
            setTimeout(() => {
                console.error = originalError;

                if (errors.length === 0) {
                    testDiv.innerHTML = '<p class="success">✅ No console errors detected!</p>';
                } else {
                    testDiv.innerHTML = `
                        <p class="error">❌ Console errors detected:</p>
                        <ul>
                            ${errors.map(err => `<li>${err}</li>`).join('')}
                        </ul>
                    `;
                }
            }, 100);
        }

        // Run tests after DOM is loaded
        window.addEventListener('load', () => {
            setTimeout(() => {
                testMasterVolume();
                testPitchLabel();
                testConsoleErrors();
            }, 100);
        });
    </script>
</body>
</html>
